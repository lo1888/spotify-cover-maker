<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Spotify Playlist Cover Maker – Free & No-Watermark in 5 Seconds</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Instant AI Spotify Playlist Cover Generator – 1080×1080, No Sign-Up">
  <!-- Google Fonts (5 free fonts) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Poppins:wght@400;700&family=Roboto:wght@400;700&family=Open+Sans:wght@400;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body{font-family:Inter,Arial,Helvetica,sans-serif;background:#111;color:#fff;margin:0;padding:20px;text-align:center}
    h1{margin:10px 0 20px;font-size:26px}
    .section{background:#1a1a1a;border-radius:12px;padding:25px;margin:15px auto;max-width:500px}
    label{display:block;margin:6px 0;font-size:14px}
    input,select,button{padding:10px 14px;font-size:14px;border-radius:6px;border:1px solid #333;background:#222;color:#fff}
    button{background:#1db954;cursor:pointer;border:none}
    #canvas{background:#000;border-radius:8px;margin-top:10px;max-width:100%}
    #out{display:none;margin-top:10px;border-radius:8px}
    #dl{display:none;margin:12px auto;padding:10px 20px;background:#1db954;color:#fff;border:none;border-radius:25px;text-decoration:none}
    .ad{margin:12px auto;display:flex;align-items:center;justify-content:center;background:#222;border:1px solid #444;color:#aaa;font-size:14px}
    .ad728{height:90px;width:728px}.ad468{height:60px;width:468px}.ad300{height:250px;width:300px}
  </style>
</head>
<body>

<!-- 顶部广告 -->
<div class="ad ad728">728×90 Top Banner</div>

<h1>Instant AI Spotify Playlist Cover Generator – 1080×1080, No Sign-Up</h1>

<!-- ① AI 生成封面（上传图片） -->
<div class="section">
  <input type="file" id="img" accept="image/*">
  <button onclick="genCover()">AI 生成封面</button>
  <canvas id="canvas" style="display:none"></canvas>
  <img id="out">
  <a id="dl" download="cover.jpg">下载封面</a>
</div>

<!-- 468×60 广告位 -->
<div class="ad ad468">468×60 Mid Banner</div>

<!-- ② 文字生成封面（新功能完整） -->
<div class="section">
  <label>封面文字：</label>
  <input type="text" id="txt" placeholder="输入封面文字" maxlength="60">
  <label>比例：</label>
  <select id="ratio">
    <option value="16:9">16:9 (1920×1080)</option>
    <option value="9:16">9:16 (1080×1920)</option>
  </select>
  <label>字体：</label>
  <select id="font">
    <option value="Inter">Inter</option>
    <option value="Poppins">Poppins</option>
    <option value="Roboto">Roboto</option>
    <option value="Open Sans">Open Sans</option>
    <option value="Lato">Lato</option>
  </select>
  <label>文字颜色：</label>
  <input type="color" id="txtColor" value="#ffffff">
  <label>背景颜色：</label>
  <input type="color" id="bgColor" value="#111111">
  <label>或上传背景图：</label>
  <input type="file" id="bgImg" accept="image/*">
  <button onclick="genTextCover()">文字生成封面</button>
</div>

<!-- 底部广告 -->
<div class="ad ad300">300×250 Rectangle</div>

<script>
  /* 上传图片 → AI 封面 */
  function genCover(){
    const file=document.getElementById('img').files[0];
    const [w,h]=[1080,1080];
    const canvas=document.getElementById('canvas');
    const ctx=canvas.getContext('2d');
    canvas.width=w;canvas.height=h;
    if(file){
      const img=new Image();
      img.onload=()=>{ctx.drawImage(img,0,0,w,h);addWatermark(w,h);finish();};
      img.src=URL.createObjectURL(file);
    }else{
      ctx.fillStyle='#111';ctx.fillRect(0,0,w,h);addWatermark(w,h);finish();
    }
    function addWatermark(w,h){
      ctx.fillStyle='rgba(0,0,0,0.4)';ctx.fillRect(0,h-120,w,120);
      ctx.fillStyle='#fff';ctx.font='bold 60px Inter';ctx.textAlign='center';
      ctx.fillText('AI Cover',w/2,h-70);ctx.font='28px Inter';ctx.fillText('Made in 5s',w/2,h-35);
    }
    function finish(){
      canvas.toBlob(b=>{
        const u=URL.createObjectURL(b);
        document.getElementById('out').src=u;
        document.getElementById('out').style.display='inline';
        document.getElementById('dl').href=u;
        document.getElementById('dl').style.display='inline';
      },'image/jpeg',0.92);
    }
  }

  /* 文字 → 封面 完整功能 */
  function genTextCover(){
    const text=document.getElementById('txt').value.trim()||'Your Title';
    const ratio=document.getElementById('ratio').value;
    const font=document.getElementById('font').value;
    const txtColor=document.getElementById('txtColor').value;
    const bgColor=document.getElementById('bgColor').value;
    const [w,h]=ratio==='16:9'?[1920,1080]:[1080,1920];

    const canvas=document.createElement('canvas');
    const ctx=canvas.getContext('2d');
    canvas.width=w;canvas.height=h;

    // 背景（颜色或上传图）
    const bgFile=document.getElementById('bgImg').files[0];
    if(bgFile){
      const reader=new FileReader();
      reader.onload=e=>{
        const img=new Image();
        img.onload=()=>{ctx.drawImage(img,0,0,w,h);drawText(ctx,text,txtColor,font,w,h);finishText(canvas);};
        img.src=e.target.result;
      };
      reader.readAsDataURL(bgFile);
    }else{
      ctx.fillStyle=bgColor;ctx.fillRect(0,0,w,h);drawText(ctx,text,txtColor,font,w,h);finishText(canvas);
    }

    function drawText(ctx,text,color,fontFamily,w,h){
      ctx.fillStyle=color;
      ctx.textAlign='center';
      ctx.textBaseline='middle';
      let fontSize=Math.min(w,h)/12;
      ctx.font=`bold ${fontSize}px ${fontFamily}`;
      const maxWidth=w*0.85;
      const words=text.split(' ');
      let line='',y=h/2-(words.length*fontSize*1.2)/2;
      for(const w of words){
        const test=line+w+' ';
        if(ctx.measureText(test).width>maxWidth&&line!==''){
          ctx.fillText(line,w/2,y);line=w+' ';y+=fontSize*1.2;
        }else{line=test;}
      }
      ctx.fillText(line,w/2,y);
    }

    function finishText(canvas){
      canvas.toBlob(b=>{
        const u=URL.createObjectURL(b);
        document.getElementById('out').src=u;
        document.getElementById('out').style.display='inline';
        document.getElementById('dl').href=u;
        document.getElementById('dl').style.display='inline';
      },'image/jpeg',0.92);
    }
  }
</script>
</body>
</html>